{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport styles from \"./styles.module.css\";\n\n\nclass InstagramFeed extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      feeds: [],\n      isError: '',\n      isLoaded: false,\n    };\n  }\n\n  componentDidMount() {\n    let url = `https://graph.instagram.com/me/media?fields=media_count,media_type,permalink,media_url&&access_token=${this.props.token}`;\n    fetch(url)\n      .then((response) => {\n        return response.json();\n      })\n      .then(data => {\n          if(data.hasOwnProperty('error')){\n            //console.log('Success:', data);\n            this.setState({\n                isLoaded: true,\n                isError:true,\n              });\n\n          }else{\n            this.setState({\n                isLoaded: true,\n                feeds: data.data,\n                isError:false,\n              });\n          }\n      })\n      .catch((error) => {\n        console.error('Error:', error);\n        this.setState({\n            isLoaded: true,\n            isError:true,\n            error\n          });\n      });\n\n\n\n\n\n\n  }\n\n  render() {\n    const { isError, isLoaded, feeds } = this.state;\n\n    if (isError) {\n      return <div className={styles.errorMessage}> \n            <p> the access token is not valid</p>\n      </div>;\n    } else if (!isLoaded) {\n      return <div> Loading... </div>;\n    } else {\n        console.log(feeds);\n      return (\n        <div className={styles.instagramItems}>\n          {feeds.slice(0, this.props.counter).map((feed, index) => (\n            <div key={index} className={styles.instagramItem}>\n              <a\n                key={index}\n                href={feed.permalink}\n                className=\"ig-instagram-link\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n    {(feed.media_type === 'IMAGE'||feed.media_type === 'CAROUSEL_ALBUM')? \n        <img\n        className={styles.instagramImg}\n        key={index}\n        src={feed.media_url}\n        alt=\"description\"\n      />:\n      <video className={styles.instagramImg} key={index} src={feed.media_url} type=\"video/mp4\"></video>\n  }\n                        \n                \n\n                <div className={styles.instagramIcon}>\n                  <div className=\"instagram-count-item\">\n                    <span className=\"icon\">\n                      {/*change your svg icon*/}\n\n                      <svg height=\"18\" viewBox=\"0 0 512 512\" width=\"18\">\n                        <path\n                          fill=\"currentColor\"\n                          d=\"m256 386c-71.683 0-130-58.317-130-130 7.14-172.463 252.886-172.413 260 .001 0 71.682-58.317 129.999-130 129.999zm0-220c-49.626 0-90 40.374-90 90 4.944 119.397 175.074 119.362 180-.001 0-49.625-40.374-89.999-90-89.999zm236 346h-472c-11.046 0-20-8.954-20-20v-472c0-11.046 8.954-20 20-20h472c11.046 0 20 8.954 20 20v472c0 11.046-8.954 20-20 20zm-452-40h432v-432h-432zm372-392c-11.046 0-20 8.954-20 20 0 11.046 8.954 20 20 20 11.046 0 20-8.954 20-20 0-11.046-8.954-20-20-20z\"\n                        />\n                      </svg>\n                    </span>\n                  </div>\n                </div>\n              </a>\n            </div>\n          ))}\n        </div>\n      );\n    }\n  }\n}\n\nexport default InstagramFeed;\n"],"names":["InstagramFeed","props","state","feeds","isError","isLoaded","componentDidMount","url","token","fetch","then","response","json","data","hasOwnProperty","setState","error","console","render","React","styles","errorMessage","log","instagramItems","slice","counter","map","feed","index","instagramItem","permalink","media_type","instagramImg","media_url","instagramIcon","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;IAIMA;;;AACJ,yBAAYC,KAAZ,EAAmB;AAAA;;AACjB,kCAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,EADI;AAEXC,MAAAA,OAAO,EAAE,EAFE;AAGXC,MAAAA,QAAQ,EAAE;AAHC,KAAb;AAFiB;AAOlB;;;;SAEDC,oBAAA,6BAAoB;AAAA;;AAClB,QAAIC,GAAG,6GAA2G,KAAKN,KAAL,CAAWO,KAA7H;AACAC,IAAAA,KAAK,CAACF,GAAD,CAAL,CACGG,IADH,CACQ,UAACC,QAAD,EAAc;AAClB,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,KAHH,EAIGF,IAJH,CAIQ,UAAAG,IAAI,EAAI;AACV,UAAGA,IAAI,CAACC,cAAL,CAAoB,OAApB,CAAH,EAAgC;AAE9B,QAAA,MAAI,CAACC,QAAL,CAAc;AACVV,UAAAA,QAAQ,EAAE,IADA;AAEVD,UAAAA,OAAO,EAAC;AAFE,SAAd;AAKD,OAPD,MAOK;AACH,QAAA,MAAI,CAACW,QAAL,CAAc;AACVV,UAAAA,QAAQ,EAAE,IADA;AAEVF,UAAAA,KAAK,EAAEU,IAAI,CAACA,IAFF;AAGVT,UAAAA,OAAO,EAAC;AAHE,SAAd;AAKD;AACJ,KAnBH,WAoBS,UAACY,KAAD,EAAW;AAChBC,MAAAA,OAAO,CAACD,KAAR,CAAc,QAAd,EAAwBA,KAAxB;;AACA,MAAA,MAAI,CAACD,QAAL,CAAc;AACVV,QAAAA,QAAQ,EAAE,IADA;AAEVD,QAAAA,OAAO,EAAC,IAFE;AAGVY,QAAAA,KAAK,EAALA;AAHU,OAAd;AAKD,KA3BH;AAkCD;;SAEDE,SAAA,kBAAS;AAAA,sBAC8B,KAAKhB,KADnC;AAAA,QACCE,OADD,eACCA,OADD;AAAA,QACUC,QADV,eACUA,QADV;AAAA,QACoBF,KADpB,eACoBA,KADpB;;AAGP,QAAIC,OAAJ,EAAa;AACX,0BAAOe;AAAK,QAAA,SAAS,EAAEC,MAAM,CAACC;AAAvB,sBACDF,yEADC,CAAP;AAGD,KAJD,MAIO,IAAI,CAACd,QAAL,EAAe;AACpB,0BAAOc,yDAAP;AACD,KAFM,MAEA;AACHF,MAAAA,OAAO,CAACK,GAAR,CAAYnB,KAAZ;AACF,0BACEgB;AAAK,QAAA,SAAS,EAAEC,MAAM,CAACG;AAAvB,SACGpB,KAAK,CAACqB,KAAN,CAAY,CAAZ,EAAe,KAAKvB,KAAL,CAAWwB,OAA1B,EAAmCC,GAAnC,CAAuC,UAACC,IAAD,EAAOC,KAAP;AAAA,4BACtCT;AAAK,UAAA,GAAG,EAAES,KAAV;AAAiB,UAAA,SAAS,EAAER,MAAM,CAACS;AAAnC,wBACEV;AACE,UAAA,GAAG,EAAES,KADP;AAEE,UAAA,IAAI,EAAED,IAAI,CAACG,SAFb;AAGE,UAAA,SAAS,EAAC,mBAHZ;AAIE,UAAA,MAAM,EAAC,QAJT;AAKE,UAAA,GAAG,EAAC;AALN,WAORH,IAAI,CAACI,UAAL,KAAoB,OAApB,IAA6BJ,IAAI,CAACI,UAAL,KAAoB,gBAAlD,gBACGZ;AACA,UAAA,SAAS,EAAEC,MAAM,CAACY,YADlB;AAEA,UAAA,GAAG,EAAEJ,KAFL;AAGA,UAAA,GAAG,EAAED,IAAI,CAACM,SAHV;AAIA,UAAA,GAAG,EAAC;AAJJ,UADH,gBAOCd;AAAO,UAAA,SAAS,EAAEC,MAAM,CAACY,YAAzB;AAAuC,UAAA,GAAG,EAAEJ,KAA5C;AAAmD,UAAA,GAAG,EAAED,IAAI,CAACM,SAA7D;AAAwE,UAAA,IAAI,EAAC;AAA7E,UAdQ,eAmBEd;AAAK,UAAA,SAAS,EAAEC,MAAM,CAACc;AAAvB,wBACEf;AAAK,UAAA,SAAS,EAAC;AAAf,wBACEA;AAAM,UAAA,SAAS,EAAC;AAAhB,wBAGEA;AAAK,UAAA,MAAM,EAAC,IAAZ;AAAiB,UAAA,OAAO,EAAC,aAAzB;AAAuC,UAAA,KAAK,EAAC;AAA7C,wBACEA;AACE,UAAA,IAAI,EAAC,cADP;AAEE,UAAA,CAAC,EAAC;AAFJ,UADF,CAHF,CADF,CADF,CAnBF,CADF,CADsC;AAAA,OAAvC,CADH,CADF;AA0CD;AACF;;;EAtGyBgB;;;;"}